(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))y(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&y(f)}).observe(document,{childList:!0,subtree:!0});function v(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function y(r){if(r.ep)return;r.ep=!0;const n=v(r);fetch(r.href,n)}})();const e=document.querySelector("#board"),s=e.getContext("2d");e.width=500;e.height=300;let p=!1;document.createElement("div");document.querySelector(".inputDisplay");const w=document.querySelector(".displayScore"),b=document.querySelector("#start");let a=document.querySelector(".input");document.querySelector("#submit");let d=0,g=0,m=0,u=1,c=[],o=[],l=[];const S="https://random-word-api.herokuapp.com/word";async function L(){return await(await fetch(S)).json()}class q{constructor(){this.x=50,this.y=10,this.vy=0,this.width=30,this.height=30,this.weight=.5}update(){this.y>e.height-this.height?(this.y=e.height-this.height,this.vy=0):(this.vy+=this.weight,this.vy*=.7,this.y+=this.vy),this.y<0&&(this.y=this.height,this.vy=0),p&&this.flap()}draw(){s.fillStyle="red",s.fillRect(this.x,this.y,this.width,this.height)}flap(){this.vy-=2}}class E{constructor(){this.x=i.x,this.y=i.y,this.size=Math.random()*7+3,this.speedY=Math.random()*1-.5,this.color=`hsla(${m},100%,50%,0.8)`}update(){this.x-=u,this.y+=this.speedY}draw(){s.fillStyle=this.color,s.beginPath(),s.arc(this.x,this.y,this.size,0,Math.PI*2),s.fill()}}function P(){c.unshift(new E);for(let t=0;t<c.length;t++)c[t].update(),c[t].draw();if(c.length>200)for(let t=0;t<20;t++)c.pop(c[t])}class M{constructor(){this.top=Math.random()*e.height/3+20,this.bottom=Math.random()*e.height/3+20,this.x=e.width,this.width=20,this.color="black  "}draw(){s.fillStyle=this.color,s.fillRect(this.x,0,this.width,this.top),s.fillRect(this.x,e.height-this.bottom,this.width,this.bottom)}update(){this.x-=u,this.draw()}}class O{constructor(h){this.word=h,this.color="red",this.x=e.width}draw(){s.font="20px serif",s.fillText(this.word,this.x,e.height/2)}update(){this.x-=u,this.draw()}}async function A(){d%200===0&&l.push(new O(await L()));for(let t=0;t<l.length;t++)l[t].update();l.length>6&&l.splice(0,1)}function R(){a.addEventListener("keydown",t=>{if(t.key==="Enter"){t.preventDefault();for(let h=0;h<l.length;h++)a.value.trim()==l[h].word?(l.splice(h,1),console.log(a.value),console.log("correct"),g+=1,w.innerHTML=g):(console.log("incorrect"),a.value="")}});for(let t=0;t<l.length;t++)if(l[t].x<=0)return!0}function D(){d%100===0&&o.push(new M);for(let t=0;t<o.length;t++)o[t].update();o.length>10&&o.splice(0,1)}function z(){for(let t=0;t<o.length;t++)if(i.x<o[t].x+o[t].width&&i.x+i.width>o[t].x&&(i.y+i.height>0&&i.y<0+o[t].top||i.y<e.height&&i.y+i.height>e.height-o[t].bottom))return console.log(" DEAD "),!0}const i=new q,x=()=>{s.clearRect(0,0,e.width,e.height),D(),i.update(),i.draw(),P(),A(),!R()&&(z()||(requestAnimationFrame(x),m++,d++))};window.addEventListener("resize",()=>{e.width=500,e.height=300});window.addEventListener("keydown",t=>{t.code==="Space"&&(p=!0)});window.addEventListener("keyup",t=>{t.code==="Space"&&(p=!1)});b.addEventListener("click",()=>{document.querySelector(".input").focus(),s.clearRect(0,0,e.width,e.height),i.x=50,i.y=10,i.vy=0,a.value="",d=0,w.innerHTML="0",u=1,c=[],o=[],l=[],x()});
