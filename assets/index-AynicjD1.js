(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const h of e)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function g(e){const h={};return e.integrity&&(h.integrity=e.integrity),e.referrerPolicy&&(h.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?h.credentials="include":e.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(e){if(e.ep)return;e.ep=!0;const h=g(e);fetch(e.href,h)}})();const i=document.querySelector("#board"),o=i.getContext("2d");i.width=500;i.height=300;let c=!1;document.createElement("div");let f=0,u=0,y=1;const n=[],r=[];class w{constructor(){this.x=50,this.y=10,this.vy=0,this.width=30,this.height=30,this.weight=.5}update(){this.y>i.height-this.height?(this.y=i.height-this.height,this.vy=0):(this.vy+=this.weight,this.vy*=.7,this.y+=this.vy),this.y<0&&(this.y=this.height,this.vy=0),c&&this.flap()}draw(){o.fillStyle="red",o.fillRect(this.x,this.y,this.width,this.height)}flap(){this.vy-=2}}class m{constructor(){this.x=s.x,this.y=s.y,this.size=Math.random()*7+3,this.speedY=Math.random()*1-.5,this.color=`hsla(${u},100%,50%,0.8)`}update(){this.x-=y,this.y+=this.speedY}draw(){o.fillStyle=this.color,o.beginPath(),o.arc(this.x,this.y,this.size,0,Math.PI*2),o.fill()}}function x(){n.unshift(new m);for(let t=0;t<n.length;t++)n[t].update(),n[t].draw();if(n.length>200)for(let t=0;t<20;t++)n.pop(n[t])}class b{constructor(){this.top=Math.random()*i.height/3+20,this.bottom=Math.random()*i.height/3+20,this.x=i.width,this.width=20,this.color="black  "}draw(){o.fillStyle=this.color,o.fillRect(this.x,0,this.width,this.top),o.fillRect(this.x,i.height-this.bottom,this.width,this.bottom)}update(){this.x-=y,this.draw()}}function v(){f%100===0&&r.unshift(new b);for(let t=0;t<r.length;t++)r[t].update();r.length>20&&r.pop(0)}function L(){for(let t=0;t<r.length;t++)if(s.x<r[t].x+r[t].width&&s.x+s.width>r[t].x&&(s.y+s.height>0&&s.y<0+r[t].top||s.y<i.height&&s.y+s.height>i.height-r[t].bottom))return console.log("GO   "),!0}const s=new w,p=()=>{o.clearRect(0,0,i.width,i.height),v(),s.update(),s.draw(),x(),!L()&&(requestAnimationFrame(p),u++,f++)};window.addEventListener("resize",()=>{i.width=500,i.height=300});window.addEventListener("keydown",t=>{t.code==="Space"&&(c=!0)});window.addEventListener("keyup",t=>{t.code==="Space"&&(c=!1)});window.addEventListener("load",()=>{p()});
