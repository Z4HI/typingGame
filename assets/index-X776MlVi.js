(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))v(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&v(p)}).observe(document,{childList:!0,subtree:!0});function x(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function v(r){if(r.ep)return;r.ep=!0;const c=x(r);fetch(r.href,c)}})();const e=document.querySelector("#board"),s=e.getContext("2d"),b=document.querySelector(".displayScore"),E=document.querySelector("#start"),M=document.querySelector(".messageBox"),P=document.querySelector("#play"),S=document.querySelector(".rules"),B=document.querySelector(".rulesBtn");let a=document.querySelector(".input"),f=0,y=0,L=0;e.width=500;e.height=300;let m=!1,u=1,d=[],h=[],l=[];const I="https://random-word-api.herokuapp.com/word";async function O(){return await(await fetch(I)).json()}class A{constructor(){this.x=50,this.y=10,this.vy=0,this.width=30,this.height=30,this.weight=.5}update(){this.y>e.height-this.height?(this.y=e.height-this.height,this.vy=0):(this.vy+=this.weight,this.vy*=.7,this.y+=this.vy),this.y<0&&(this.y=this.height,this.vy=0),m&&this.flap()}draw(){s.fillStyle="red",s.fillRect(this.x,this.y,this.width,this.height)}flap(){this.vy-=3}}class R{constructor(){this.x=i.x,this.y=i.y,this.size=Math.random()*7+3,this.speedY=Math.random()*1-.5,this.color=`hsla(${L},100%,50%,0.8)`}update(){this.x-=u,this.y+=this.speedY}draw(){s.fillStyle=this.color,s.beginPath(),s.arc(this.x,this.y,this.size,0,Math.PI*2),s.fill()}}function k(){d.unshift(new R);for(let t=0;t<d.length;t++)d[t].update(),d[t].draw();if(d.length>200)for(let t=0;t<20;t++)d.pop(d[t])}class H{constructor(n){this.word=n,this.color="red",this.x=e.width}draw(){s.fillStyle=this.color,s.font="20px serif",s.fillText(this.word,this.x,e.height/2)}update(){this.x-=u,this.draw()}}async function N(){f%200===0&&l.push(new H(await O()));for(let t=0;t<l.length;t++)l[t].update();l.length>6&&l.splice(0,1)}function T(){a.addEventListener("keydown",t=>{if(t.key==="Enter"){t.preventDefault();for(let n=0;n<l.length;n++)j(a.value)==l[n].word?(l.splice(n,1),y+=1,g("NICE!"),b.innerHTML=y):a.value=""}});for(let t=0;t<l.length;t++)if(l[t].x<=0)return a.disabled=!0,g(`You didn't spell ${l[t].word} in time`),!0}function j(t){return t.split(" ").join("")}function g(t){M.innerHTML=t}class z{constructor(){this.top=Math.random()*e.height/3+20,this.bottom=Math.random()*e.height/3+20,this.x=e.width,this.width=20,this.color="black  "}draw(){s.fillStyle=this.color,s.fillRect(this.x,0,this.width,this.top),s.fillRect(this.x,e.height-this.bottom,this.width,this.bottom)}update(){this.x-=u,this.draw()}}function D(){f%100===0&&h.push(new z);for(let t=0;t<h.length;t++)h[t].update();h.length>10&&h.splice(0,1)}function W(){for(let t=0;t<h.length;t++)if(i.x<h[t].x+h[t].width&&i.x+i.width>h[t].x&&(i.y+i.height>0&&i.y<0+h[t].top||i.y<e.height&&i.y+i.height>e.height-h[t].bottom))return console.log(" DEAD "),a.disabled=!0,g("you Hit a Pole lol"),!0}const w=new Image;w.src="/bg.jpg";const o={x1:0,x2:e.width,y:0,width:e.width,height:e.height};function Y(){o.x1<=o.width?o.x1=o.width:o.x1-=u,s.drawImage(w,o.x1,o.y,o.width,o.height),s.drawImage(w,o.x2,o.y,o.width,o.height)}const i=new A,q=()=>{s.clearRect(0,0,e.width,e.height),Y(),D(),i.update(),i.draw(),k(),N(),!T()&&(W()||(requestAnimationFrame(q),L++,f++))};window.addEventListener("resize",()=>{e.width=500,e.height=300});window.addEventListener("keydown",t=>{t.code==="Space"&&(m=!0)});window.addEventListener("keyup",t=>{t.code==="Space"&&(m=!1)});E.addEventListener("click",()=>{a.disabled=!1,document.querySelector(".input").focus(),s.clearRect(0,0,e.width,e.height),i.x=50,i.y=10,i.vy=0,i.weight=.5,a.value="",f=0,y=0,b.innerHTML="0",u=1,d=[],h=[],l=[],q()});P.addEventListener("click",()=>{S.classList.toggle("visible")});B.addEventListener("click",()=>{S.classList.toggle("visible")});
