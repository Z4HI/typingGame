(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))x(s);new MutationObserver(s=>{for(const h of s)if(h.type==="childList")for(const y of h.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&x(y)}).observe(document,{childList:!0,subtree:!0});function w(s){const h={};return s.integrity&&(h.integrity=s.integrity),s.referrerPolicy&&(h.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?h.credentials="include":s.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function x(s){if(s.ep)return;s.ep=!0;const h=w(s);fetch(s.href,h)}})();let f=localStorage.getItem("scores")?JSON.parse(localStorage.getItem("scores")):0;const e=document.querySelector("#board"),o=e.getContext("2d"),L=document.querySelector(".displayScore"),O=document.querySelector("#start"),P=document.querySelector(".messageBox"),I=document.querySelector("#play"),b=document.querySelector(".rules"),R=document.querySelector(".rulesBtn"),k=document.querySelector("#hs");let d=document.querySelector(".input"),p=0,c=0,q=0;e.width=500;e.height=300;let v=!1,g=1,a=[],l=[],r=[];const A="https://random-word-api.herokuapp.com/word?length=4",B="https://random-word-api.herokuapp.com/word?length=5",H="https://random-word-api.herokuapp.com/word?length=6";async function m(t){return await(await fetch(t)).json()}const E=()=>{k.innerHTML=f};class N{constructor(){this.x=50,this.y=10,this.vy=0,this.width=30,this.height=30,this.weight=.5}update(){this.y>e.height-this.height?(this.y=e.height-this.height,this.vy=0):(this.vy+=this.weight,this.vy*=.7,this.y+=this.vy),this.y<0&&(this.y=this.height,this.vy=0),v&&this.flap()}draw(){o.fillStyle="red",o.fillRect(this.x,this.y,this.width,this.height)}flap(){this.vy-=3}}class T{constructor(){this.x=i.x,this.y=i.y,this.size=Math.random()*7+3,this.speedY=Math.random()*1-.5,this.color=`hsla(${q},100%,50%,0.8)`}update(){this.x-=g,this.y+=this.speedY}draw(){o.fillStyle=this.color,o.beginPath(),o.arc(this.x,this.y,this.size,0,Math.PI*2),o.fill()}}function j(){a.unshift(new T);for(let t=0;t<a.length;t++)a[t].update(),a[t].draw();if(a.length>200)for(let t=0;t<20;t++)a.pop(a[t])}class S{constructor(n){this.word=n,this.color="red",this.x=e.width}draw(){o.fillStyle=this.color,o.font="20px serif",o.fillText(this.word,this.x,e.height/2)}update(){this.x-=g,this.draw()}}async function z(){p%200===0&&(c<=2?(u("Level 1!"),r.push(new S(await m(A)))):c>2&&c<=5?(u("Level 2!"),r.push(new S(await m(B)))):c>5&&(u("Level 3!"),r.push(new S(await m(H)))));for(let t=0;t<r.length;t++)r[t].update();r.length>6&&r.splice(0,1)}function D(){d.addEventListener("keydown",t=>{if(t.key==="Enter"){t.preventDefault();for(let n=0;n<r.length;n++)U(d.value)==r[n].word?(r.splice(n,1),u("NICE!"),c++,L.innerHTML=c,d.value="",c>f&&(f=c,localStorage.setItem("scores",JSON.stringify(f)),E())):d.value=""}});for(let t=0;t<r.length;t++)if(r[t].x<=0)return d.disabled=!0,u(`You didn't spell ${r[t].word} in time`),!0}function U(t){return t.split(".").join(" ").split(" ").join("")}function u(t){P.innerHTML=t}class W{constructor(){this.top=Math.random()*e.height/3,this.bottom=Math.random()*e.height/3,this.x=e.width,this.width=20,this.color="black  "}draw(){o.fillStyle=this.color,o.fillRect(this.x,0,this.width,this.top),o.fillRect(this.x,e.height-this.bottom,this.width,this.bottom)}update(){this.x-=g,this.draw()}}function Y(){p%100===0&&l.push(new W);for(let t=0;t<l.length;t++)l[t].update();l.length>10&&l.splice(0,1)}function C(){for(let t=0;t<l.length;t++)if(i.x<l[t].x+l[t].width&&i.x+i.width>l[t].x&&(i.y+i.height>0&&i.y<0+l[t].top||i.y<e.height&&i.y+i.height>e.height-l[t].bottom))return console.log(" DEAD "),d.disabled=!0,u("you Hit a Pole lol"),!0}document.querySelector("#bg");e.width,e.width,e.height;const i=new N,M=()=>{o.clearRect(0,0,e.width,e.height),Y(),i.update(),i.draw(),j(),z(),!D()&&(C()||(requestAnimationFrame(M),q++,p++))};window.addEventListener("resize",()=>{e.width=500,e.height=300});window.addEventListener("keydown",t=>{t.code==="Space"&&(v=!0)});window.addEventListener("keyup",t=>{t.code==="Space"&&(v=!1)});window.addEventListener("load",()=>{E()});O.addEventListener("click",()=>{d.disabled=!1,document.querySelector(".input").focus(),o.clearRect(0,0,e.width,e.height),i.x=50,i.y=10,i.vy=0,i.weight=.5,d.value="",p=0,c=0,L.innerHTML="0",g=1,a=[],l=[],r=[],M()});I.addEventListener("click",()=>{b.classList.toggle("visible")});R.addEventListener("click",()=>{b.classList.toggle("visible")});
