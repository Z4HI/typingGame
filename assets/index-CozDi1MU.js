(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))m(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&m(f)}).observe(document,{childList:!0,subtree:!0});function w(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function m(s){if(s.ep)return;s.ep=!0;const l=w(s);fetch(s.href,l)}})();const e=document.querySelector("#board"),r=e.getContext("2d"),x=document.querySelector(".displayScore"),L=document.querySelector("#start"),q=document.querySelector(".messageBox"),E=document.querySelector("#play"),v=document.querySelector(".rules"),M=document.querySelector(".rulesBtn");let d=document.querySelector(".input"),a=0,p=0,S=0;e.width=500;e.height=300;let g=!1,u=1,c=[],n=[],h=[];const P="https://random-word-api.herokuapp.com/word";async function O(){return await(await fetch(P)).json()}class A{constructor(){this.x=50,this.y=10,this.vy=0,this.width=30,this.height=30,this.weight=.5}update(){this.y>e.height-this.height?(this.y=e.height-this.height,this.vy=0):(this.vy+=this.weight,this.vy*=.7,this.y+=this.vy),this.y<0&&(this.y=this.height,this.vy=0),g&&this.flap()}draw(){r.fillStyle="red",r.fillRect(this.x,this.y,this.width,this.height)}flap(){this.vy-=3}}class B{constructor(){this.x=i.x,this.y=i.y,this.size=Math.random()*7+3,this.speedY=Math.random()*1-.5,this.color=`hsla(${S},100%,50%,0.8)`}update(){this.x-=u,this.y+=this.speedY}draw(){r.fillStyle=this.color,r.beginPath(),r.arc(this.x,this.y,this.size,0,Math.PI*2),r.fill()}}function R(){c.unshift(new B);for(let t=0;t<c.length;t++)c[t].update(),c[t].draw();if(c.length>200)for(let t=0;t<20;t++)c.pop(c[t])}class I{constructor(o){this.word=o,this.color="red",this.x=e.width}draw(){r.fillStyle=this.color,r.font="20px serif",r.fillText(this.word,this.x,e.height/2)}update(){this.x-=u,this.draw()}}async function k(){a%200===0&&h.push(new I(await O()));for(let t=0;t<h.length;t++)h[t].update();h.length>6&&h.splice(0,1)}function H(){d.addEventListener("keydown",t=>{if(t.key==="Enter"){t.preventDefault();for(let o=0;o<h.length;o++)N(d.value)==h[o].word?(h.splice(o,1),p+=1,y("NICE!"),x.innerHTML=p):d.value=""}});for(let t=0;t<h.length;t++)if(h[t].x<=0)return d.disabled=!0,y(`You didn't spell ${h[t].word} in time`),!0}function N(t){return t.split(" ").join("")}function y(t){q.innerHTML=t}class T{constructor(){this.top=Math.random()*e.height/3+20,this.bottom=Math.random()*e.height/3+20,this.x=e.width,this.width=20,this.color="black  "}draw(){r.fillStyle=this.color,r.fillRect(this.x,0,this.width,this.top),r.fillRect(this.x,e.height-this.bottom,this.width,this.bottom)}update(){this.x-=u,this.draw()}}function z(){a%100===0&&n.push(new T);for(let t=0;t<n.length;t++)n[t].update();n.length>10&&n.splice(0,1)}function D(){for(let t=0;t<n.length;t++)if(i.x<n[t].x+n[t].width&&i.x+i.width>n[t].x&&(i.y+i.height>0&&i.y<0+n[t].top||i.y<e.height&&i.y+i.height>e.height-n[t].bottom))return console.log(" DEAD "),d.disabled=!0,y("you Hit a Pole lol"),!0}document.querySelector("#bg");e.width,e.width,e.height;const i=new A,b=()=>{r.clearRect(0,0,e.width,e.height),z(),i.update(),i.draw(),R(),k(),!H()&&(D()||(requestAnimationFrame(b),S++,a++))};window.addEventListener("resize",()=>{e.width=500,e.height=300});window.addEventListener("keydown",t=>{t.code==="Space"&&(g=!0)});window.addEventListener("keyup",t=>{t.code==="Space"&&(g=!1)});L.addEventListener("click",()=>{d.disabled=!1,document.querySelector(".input").focus(),r.clearRect(0,0,e.width,e.height),i.x=50,i.y=10,i.vy=0,i.weight=.5,d.value="",a=0,p=0,x.innerHTML="0",u=1,c=[],n=[],h=[],b()});E.addEventListener("click",()=>{v.classList.toggle("visible")});M.addEventListener("click",()=>{v.classList.toggle("visible")});
